<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arteterapia - Gesti√≥n de Talleres</title>
    <meta name="description"
        content="Sistema de gesti√≥n de talleres de arteterapia con observaciones terap√©uticas estructuradas">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>üé® Arteterapia</h1>
            </div>
            <div class="nav-menu" id="navMenu">
                <a href="#" class="nav-link active" data-page="workshops">Talleres</a>
                <a href="#" class="nav-link" data-page="profile">Perfil</a>
                <button class="btn btn-outline" id="logoutBtn">Cerrar Sesi√≥n</button>
            </div>
            <div class="user-info" id="userInfo">
                <span class="user-name" id="userName"></span>
                <span class="user-role" id="userRole"></span>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Login Page -->
        <div class="page" id="loginPage">
            <div class="login-container">
                <div class="login-card">
                    <div class="login-header">
                        <h2>üé® Arteterapia</h2>
                        <p>Gesti√≥n de Talleres Terap√©uticos</p>
                    </div>
                    <form id="loginForm" class="login-form">
                        <div class="form-group">
                            <label for="username">Usuario</label>
                            <input type="text" id="username" name="username" class="form-input"
                                placeholder="Ingresa tu usuario" required autocomplete="username">
                        </div>
                        <div class="form-group">
                            <label for="password">Contrase√±a</label>
                            <input type="password" id="password" name="password" class="form-input"
                                placeholder="Ingresa tu contrase√±a" required autocomplete="current-password">
                        </div>
                        <div class="alert alert-error" id="loginError" style="display: none;"></div>
                        <button type="submit" class="btn btn-primary btn-block" id="loginBtn">
                            Iniciar Sesi√≥n
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Workshops Page -->
        <div class="page" id="workshopsPage" style="display: none;">
            <div class="page-header">
                <h2>Mis Talleres</h2>
                <button class="btn btn-primary" id="createWorkshopBtn">
                    <span class="btn-icon">+</span> Crear Taller
                </button>
            </div>

            <div class="alert alert-info" id="workshopsLoading">
                Cargando talleres...
            </div>

            <div class="workshops-grid" id="workshopsGrid">
                <!-- Workshops will be loaded here -->
            </div>
        </div>

        <!-- Workshop Detail Page -->
        <div class="page" id="workshopDetailPage" style="display: none;">
            <div class="page-header">
                <button class="btn btn-outline" id="backToWorkshopsBtn">
                    ‚Üê Volver a Talleres
                </button>
                <div class="page-actions">
                    <button class="btn btn-outline" id="editWorkshopBtn">Editar</button>
                    <button class="btn btn-danger" id="deleteWorkshopBtn">Eliminar</button>
                </div>
            </div>

            <div class="workshop-detail" id="workshopDetail">
                <!-- Workshop details will be loaded here -->
            </div>

            <div class="workshop-sections">
                <!-- Participants Section -->
                <section class="section">
                    <div class="section-header">
                        <h3>Participantes</h3>
                        <button class="btn btn-primary btn-sm" id="addParticipantBtn">
                            + Agregar Participante
                        </button>
                    </div>
                    <div class="participants-list" id="participantsList">
                        <!-- Participants will be loaded here -->
                    </div>
                </section>

                <!-- Sessions Section -->
                <section class="section">
                    <div class="section-header">
                        <h3>Sesiones</h3>
                        <button class="btn btn-primary btn-sm" id="addSessionBtn">
                            + Agregar Sesi√≥n
                        </button>
                    </div>
                    <div class="sessions-list" id="sessionsList">
                        <!-- Sessions will be loaded here -->
                    </div>
                </section>
            </div>
        </div>

        <!-- Observation Workflow Page -->
        <div class="page" id="observationPage" style="display: none;">
            <div class="page-header">
                <button class="btn btn-outline" id="cancelObservationBtn">
                    ‚Üê Cancelar
                </button>
                <h2 id="observationTitle">Nueva Observaci√≥n</h2>
            </div>

            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="observationProgress" style="width: 0%"></div>
                </div>
                <div class="progress-text" id="observationProgressText">
                    Pregunta 1 de 50
                </div>
            </div>

            <!-- Question Card -->
            <div class="observation-card">
                <div class="observation-category" id="observationCategory">
                    Categor√≠a
                </div>
                <div class="observation-question" id="observationQuestion">
                    Pregunta
                </div>
                <div class="observation-answers" id="observationAnswers">
                    <!-- Answer buttons will be inserted here -->
                </div>
            </div>

            <!-- Navigation -->
            <div class="observation-nav">
                <button class="btn btn-outline" id="prevQuestionBtn" disabled>
                    ‚Üê Anterior
                </button>
                <button class="btn btn-primary" id="nextQuestionBtn" disabled>
                    Siguiente ‚Üí
                </button>
                <button class="btn btn-primary" id="finishObservationBtn" style="display: none;">
                    Finalizar Observaci√≥n
                </button>
            </div>

            <!-- Notes Section (shown at the end) -->
            <div class="observation-notes" id="observationNotesSection" style="display: none;">
                <h3>Notas Adicionales (Opcional)</h3>
                <textarea id="observationNotes" class="form-textarea"
                    placeholder="Agrega notas adicionales sobre esta observaci√≥n..." rows="5"></textarea>
            </div>
        </div>

        <!-- Profile Page -->
        <div class="page" id="profilePage" style="display: none;">
            <div class="page-header">
                <h2>Mi Perfil</h2>
            </div>
            <div class="profile-card" id="profileCard">
                <!-- Profile info will be loaded here -->
            </div>
        </div>
    </main>

    <!-- Modal Container -->
    <div class="modal" id="modal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content" id="modalContent">
            <!-- Modal content will be dynamically inserted -->
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/workshops.js"></script>
    <script src="js/participants.js"></script>
    <script src="js/sessions.js"></script>
    <script src="js/observations.js"></script>
    <script src="js/app.js"></script>
</body>

</html>